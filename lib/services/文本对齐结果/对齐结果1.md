# 语境块1
4. 开始逐句对齐
 当前块文本: Once when I was six years old I saw a magnificent picture in a book, called True Stories from Nature, about the primeval forest. It was a picture of a boa constrictor in the act of swallowing an animal. Here is a copy of the drawing.
 
处理第 1 个句子: Object
 4.1 计算最佳匹配...
 【文本匹配计算】:
 - 句子文本: Once, when I was six years old, I saw a magnificent picture in a book called True Stories from Nature. 
 - 块文本长度: 233
 - 预处理文本...
 - 规范化后句子长度: 102
 - 规范化后块文本长度: 233
 - 尝试不同窗口大小进行匹配
 - 窗口大小: 102, 107, 112, 122
 - 各窗口最佳匹配:
   窗口大小 102: 分数 0.94, 匹配文本: "once when i was six years old i saw a magnificent ..."
   窗口大小 107: 分数 0.92, 匹配文本: "once when i was six years old i saw a magnificent ..."
   窗口大小 112: 分数 0.90, 匹配文本: "once when i was six years old i saw a magnificent ..."
   窗口大小 122: 分数 0.86, 匹配文本: "once when i was six years old i saw a magnificent ..."
 - 最终最佳匹配: 分数 0.94, 位置 0~102
 - 初始匹配文本: "Once when I was six years old I saw a magnificent picture in a book, called True Stories from Nature, "
 - 优化后匹配文本: "Once when I was six years old I saw a magnificent picture in a book, called True Stories from Nature, "
 匹配结果: Object
 4.2 添加对齐结果:
 原始文本: Once, when I was six years old, I saw a magnificent picture in a book called True Stories from Nature. 
 对齐文本: Once when I was six years old I saw a magnificent picture in a book, called True Stories from Nature, 
 开始时间: 2200
 结束时间: 9090
 4.3 更新剩余文本，从位置 102 开始截取
 剩余文本(前100字符): about the primeval forest. It was a picture of a boa constrictor in the act of swallowing an animal....
 
处理第 2 个句子: Object
 4.1 计算最佳匹配...
 【文本匹配计算】:
 - 句子文本: About the primeval forest. 
 - 块文本长度: 131
 - 预处理文本...
 - 规范化后句子长度: 26
 - 规范化后块文本长度: 131
 - 尝试不同窗口大小进行匹配
 - 窗口大小: 26, 31, 36, 31
 - 各窗口最佳匹配:
   窗口大小 26: 分数 1.00, 匹配文本: "about the primeval forest."
   窗口大小 31: 分数 0.94, 匹配文本: "about the primeval forest. it w"
   窗口大小 36: 分数 0.88, 匹配文本: "about the primeval forest. it was a "
   窗口大小 31: 分数 0.94, 匹配文本: "about the primeval forest. it w"
 - 最终最佳匹配: 分数 1.00, 位置 0~26
 - 初始匹配文本: "about the primeval forest."
 - 找到句子结束符 . 在位置 25
 - 优化后匹配文本: "about the primeval forest."
 匹配结果: Object
 4.2 添加对齐结果:
 原始文本: About the primeval forest. 
 对齐文本: about the primeval forest.
 开始时间: 9190
 结束时间: 10750
 4.3 更新剩余文本，从位置 26 开始截取
 剩余文本(前100字符):  It was a picture of a boa constrictor in the act of swallowing an animal. Here is a copy of the dra...
 
处理第 3 个句子: Object
 4.1 计算最佳匹配...
 【文本匹配计算】:
 - 句子文本: It was a picture of a boa constrictor in the act of swallowing an animal. 
 - 块文本长度: 105
 - 预处理文本...
 - 规范化后句子长度: 73
 - 规范化后块文本长度: 104
 - 尝试不同窗口大小进行匹配
 - 窗口大小: 73, 78, 83, 88
 - 各窗口最佳匹配:
   窗口大小 73: 分数 1.00, 匹配文本: "it was a picture of a boa constrictor in the act o..."
   窗口大小 78: 分数 0.97, 匹配文本: "it was a picture of a boa constrictor in the act o..."
   窗口大小 83: 分数 0.94, 匹配文本: "it was a picture of a boa constrictor in the act o..."
   窗口大小 88: 分数 0.91, 匹配文本: "it was a picture of a boa constrictor in the act o..."
 - 最终最佳匹配: 分数 1.00, 位置 0~73
 - 初始匹配文本: " It was a picture of a boa constrictor in the act of swallowing an animal"
 - 向右扩展边界，包含句子结束符 .
 - 优化后匹配文本: " It was a picture of a boa constrictor in the act of swallowing an animal."
 匹配结果: Object
 4.2 添加对齐结果:
 原始文本: It was a picture of a boa constrictor in the act of swallowing an animal. 
 对齐文本:  It was a picture of a boa constrictor in the act of swallowing an animal.
 开始时间: 11460
 结束时间: 15340
 4.3 更新剩余文本，从位置 74 开始截取
 剩余文本(前100字符):  Here is a copy of the drawing.
 
处理第 4 个句子: Object
 4.1 计算最佳匹配...
 【文本匹配计算】:
 - 句子文本: Here is a copy of the drawing. 
 - 块文本长度: 31
 - 预处理文本...
 - 规范化后句子长度: 30
 - 规范化后块文本长度: 30
 - 尝试不同窗口大小进行匹配
 - 窗口大小: 30, 35, 40, 36
 - 各窗口最佳匹配:
   窗口大小 30: 分数 1.00, 匹配文本: "here is a copy of the drawing."
 - 最终最佳匹配: 分数 1.00, 位置 0~30
 - 初始匹配文本: " Here is a copy of the drawing"
 - 向右扩展边界，包含句子结束符 .
 - 优化后匹配文本: " Here is a copy of the drawing."
 匹配结果: Object
 4.2 添加对齐结果:
 原始文本: Here is a copy of the drawing. 
 对齐文本:  Here is a copy of the drawing.
 开始时间: 16130
 结束时间: 17950
 4.3 更新剩余文本，从位置 31 开始截取
 剩余文本(前100字符): 
 
处理第 5 个句子: Object
 当前块文本已用完，停止对齐
 
5. 对齐过程完成
 成功对齐 4 个句子
 剩余未对齐文本长度: 0
 
6. 【预期数据库更新操作】:
 6.1 更新语境块: Object
 6.2 更新句子:
   句子ID 3232f385-e5e8-40d3-9911-22cd0970288a: Object
   句子ID 63f420f1-1a9a-4129-91a9-fa4a4b52fa1d: Object
   句子ID 88b52b5c-1d41-43e5-9de8-4deedea1c0d2: Object
   句子ID 71b692c1-7e77-4847-af46-4540e48dac48: Object
 6.3 创建句子-块关联:
   关联记录: Object
   关联记录: Object
   关联记录: Object
   关联记录: Object
 
7. 执行实际数据库更新
 【开始保存对齐结果】
 更新语境块: 60f0116c-35f4-401c-93c6-ab68c4a202ea
 更新数据: Object
 语境块更新成功
 更新句子数据:
 处理句子 3232f385-e5e8-40d3-9911-22cd0970288a
 句子更新数据: Object
 句子 3232f385-e5e8-40d3-9911-22cd0970288a 更新成功
 创建语境块-句子关联: 块=60f0116c-35f4-401c-93c6-ab68c4a202ea, 句子=3232f385-e5e8-40d3-9911-22cd0970288a
 关联数据: Object
 关联创建成功
 处理句子 63f420f1-1a9a-4129-91a9-fa4a4b52fa1d
 句子更新数据: Object
 句子 63f420f1-1a9a-4129-91a9-fa4a4b52fa1d 更新成功
 创建语境块-句子关联: 块=60f0116c-35f4-401c-93c6-ab68c4a202ea, 句子=63f420f1-1a9a-4129-91a9-fa4a4b52fa1d
 关联数据: Object
 关联创建成功
 处理句子 88b52b5c-1d41-43e5-9de8-4deedea1c0d2
 句子更新数据: Object
 句子 88b52b5c-1d41-43e5-9de8-4deedea1c0d2 更新成功
 创建语境块-句子关联: 块=60f0116c-35f4-401c-93c6-ab68c4a202ea, 句子=88b52b5c-1d41-43e5-9de8-4deedea1c0d2
 关联数据: Object
 关联创建成功
 处理句子 71b692c1-7e77-4847-af46-4540e48dac48
 句子更新数据: Object
 句子 71b692c1-7e77-4847-af46-4540e48dac48 更新成功
 创建语境块-句子关联: 块=60f0116c-35f4-401c-93c6-ab68c4a202ea, 句子=71b692c1-7e77-4847-af46-4540e48dac48
 关联数据: Object
 关联创建成功
 对齐结果保存成功
 
8. 处理单词级对齐
 处理句子 3232f385-e5e8-40d3-9911-22cd0970288a 的单词对齐
 【开始处理句子 3232f385-e5e8-40d3-9911-22cd0970288a 的单词对齐】
 1. 获取现有单词数据
 获取到 20 个单词
 单词 1: id=8298e33f-c257-4c3f-83be-92d10e69f860, 内容="Once", 开始时间=2200, 结束时间=2640
 单词 2: id=f851d411-fcdf-48c1-8031-f65d60ea8eaa, 内容="when", 开始时间=2640, 结束时间=2770
 单词 3: id=7b5abbfa-8a41-4439-b7e1-15958374ee10, 内容="I", 开始时间=2770, 结束时间=2860
 单词 4: id=ff78d489-13ce-48a1-a840-f88e6260fff1, 内容="was", 开始时间=2860, 结束时间=2980
 单词 5: id=5148f9f2-b25a-4030-bcd2-50abd1350fe0, 内容="six", 开始时间=2980, 结束时间=3280
 单词 6: id=94e4cbc1-08c2-43bc-8897-a7fa5ac1b13e, 内容="years", 开始时间=3280, 结束时间=3490
 单词 7: id=e9578e7d-a649-47ed-8181-76f8456cbb2f, 内容="old", 开始时间=3490, 结束时间=4100
 单词 8: id=0c0d1ce4-4afe-44b2-b2c3-93cdde310f55, 内容="I", 开始时间=4230, 结束时间=4470
 单词 9: id=40f829ae-1424-4ec3-bfe1-0cf59e35531e, 内容="saw", 开始时间=4470, 结束时间=4760
 单词 10: id=d911ca50-1e3c-4ed1-9973-a744221e3e1f, 内容="a", 开始时间=4760, 结束时间=4790
 单词 11: id=3961aa5f-9007-4cfe-bf41-754532e2aef8, 内容="magnificent", 开始时间=4790, 结束时间=5450
 单词 12: id=55719784-b6c2-4c79-b07a-e7bc6c503875, 内容="picture", 开始时间=5460, 结束时间=5900
 单词 13: id=7bb132d6-4e7d-4b76-9970-1e2ea2b081d8, 内容="in", 开始时间=5900, 结束时间=5960
 单词 14: id=d3a1ead2-63bc-468b-9ebc-a0fe489f8e5b, 内容="a", 开始时间=5970, 结束时间=5990
 单词 15: id=c7216541-a19f-4adb-a4c0-54ab607b53b8, 内容="book", 开始时间=6070, 结束时间=6550
 单词 16: id=75906ed2-8798-445b-9dcd-5d2688d1f100, 内容="called", 开始时间=6560, 结束时间=7250
 单词 17: id=7c05a365-2eeb-4fb6-b198-ab9c29412982, 内容="True", 开始时间=7390, 结束时间=7660
 单词 18: id=f708f2b2-b7a2-4d6c-bb8c-f2ede7ca5816, 内容="Stories", 开始时间=7660, 结束时间=8130
 单词 19: id=ec0da1ae-b7e4-4729-b36b-1faae412ea79, 内容="from", 开始时间=8130, 结束时间=8300
 单词 20: id=50512a90-8934-4963-8c5d-ec57d2c4b34c, 内容="Nature", 开始时间=8300, 结束时间=9090
 2. 获取句子原始文本
 原始文本: "Once, when I was six years old, I saw a magnificent picture in a book called True Stories from Nature. "
 对齐文本: "Once when I was six years old I saw a magnificent picture in a book, called True Stories from Nature, "
 原始单词列表: Array(20)
 对齐单词列表: Array(20)
 4. 处理单词对齐
 情况1: 原始文本和对齐文本单词数量相同，逐一更新单词内容
 单词 1: "Once" 无需更新
 单词 2: "when" 无需更新
 单词 3: "I" 无需更新
 单词 4: "was" 无需更新
 单词 5: "six" 无需更新
 单词 6: "years" 无需更新
 单词 7: "old" 无需更新
 单词 8: "I" 无需更新
 单词 9: "saw" 无需更新
 单词 10: "a" 无需更新
 单词 11: "magnificent" 无需更新
 单词 12: "picture" 无需更新
 单词 13: "in" 无需更新
 单词 14: "a" 无需更新
 单词 15: "book" 无需更新
 单词 16: "called" 无需更新
 单词 17: "True" 无需更新
 单词 18: "Stories" 无需更新
 单词 19: "from" 无需更新
 单词 20: "Nature" 无需更新
 单词对齐处理完成
 处理句子 63f420f1-1a9a-4129-91a9-fa4a4b52fa1d 的单词对齐
 【开始处理句子 63f420f1-1a9a-4129-91a9-fa4a4b52fa1d 的单词对齐】
 1. 获取现有单词数据
 获取到 4 个单词
 单词 1: id=32cf9bc3-7bd3-4d75-9f3f-312d15a86ce3, 内容="About", 开始时间=9190, 结束时间=9490
 单词 2: id=818d18d8-2150-486d-bf34-203d6a069492, 内容="the", 开始时间=9520, 结束时间=9630
 单词 3: id=d6e3c43f-a1c8-4eaf-b4b0-2c793ffe30c7, 内容="primeval", 开始时间=9630, 结束时间=10140
 单词 4: id=88ddcaed-1579-4af0-9f15-7e973fe50415, 内容="forest", 开始时间=10140, 结束时间=10750
 2. 获取句子原始文本
 原始文本: "About the primeval forest. "
 对齐文本: "about the primeval forest."
 原始单词列表: (4) ['About', 'the', 'primeval', 'forest']
 对齐单词列表: (4) ['about', 'the', 'primeval', 'forest']
 4. 处理单词对齐
 情况1: 原始文本和对齐文本单词数量相同，逐一更新单词内容
 更新单词 1: {id: '32cf9bc3-7bd3-4d75-9f3f-312d15a86ce3', oldWord: 'About', newWord: 'about'}
 单词 32cf9bc3-7bd3-4d75-9f3f-312d15a86ce3 更新成功
 单词 2: "the" 无需更新
 单词 3: "primeval" 无需更新
 单词 4: "forest" 无需更新
 单词对齐处理完成
 处理句子 88b52b5c-1d41-43e5-9de8-4deedea1c0d2 的单词对齐
 【开始处理句子 88b52b5c-1d41-43e5-9de8-4deedea1c0d2 的单词对齐】
 1. 获取现有单词数据
 获取到 15 个单词
 单词 1: id=695dda7c-7ece-4c6a-b7fb-5b1c7fe7d83e, 内容="It", 开始时间=11460, 结束时间=11600
 单词 2: id=51e5e2b2-ce73-49d6-956c-7a9ee332a742, 内容="was", 开始时间=11600, 结束时间=11790
 单词 3: id=aef7d571-382c-47e7-9ecd-4d950f8236f8, 内容="a", 开始时间=11790, 结束时间=11890
 单词 4: id=6b7cce2f-4ded-4b89-a035-b9c29f2a4965, 内容="picture", 开始时间=11890, 结束时间=12390
 单词 5: id=c93b7ca7-3b72-4fbf-9c5e-8455d920e3d6, 内容="of", 开始时间=12390, 结束时间=12510
 单词 6: id=8d3762ac-68fd-4013-89b1-f3db42d27717, 内容="a", 开始时间=12510, 结束时间=12590
 单词 7: id=713a5193-5e19-4551-be7b-07d6312ea5a3, 内容="boa", 开始时间=12590, 结束时间=12910
 单词 8: id=2d0bf93d-6555-4d42-ac44-e2c6a45dd0b0, 内容="constrictor", 开始时间=12920, 结束时间=13690
 单词 9: id=8d33866e-bb0e-47cb-be8d-1f043a267d24, 内容="in", 开始时间=13690, 结束时间=13770
 单词 10: id=89a9ec1e-4953-4884-9eb8-d7b78d9a9f06, 内容="the", 开始时间=13770, 结束时间=13930
 单词 11: id=c4a4bdb2-7615-4384-b7e7-4f22e84d1139, 内容="act", 开始时间=13930, 结束时间=14200
 单词 12: id=8079de88-22b0-442e-8733-b09026294890, 内容="of", 开始时间=14200, 结束时间=14330
 单词 13: id=e6edc679-2fab-4fb4-988b-f138154b6855, 内容="swallowing", 开始时间=14330, 结束时间=14730
 单词 14: id=22847e7c-783d-4d23-baba-b7863269c853, 内容="an", 开始时间=14730, 结束时间=14880
 单词 15: id=db576d97-84ca-406d-83f2-537d06b6895a, 内容="animal", 开始时间=14880, 结束时间=15340
 2. 获取句子原始文本
 原始文本: "It was a picture of a boa constrictor in the act of swallowing an animal. "
 对齐文本: " It was a picture of a boa constrictor in the act of swallowing an animal."
 原始单词列表: (15) ['It', 'was', 'a', 'picture', 'of', 'a', 'boa', 'constrictor', 'in', 'the', 'act', 'of', 'swallowing', 'an', 'animal']
 对齐单词列表: (15) ['It', 'was', 'a', 'picture', 'of', 'a', 'boa', 'constrictor', 'in', 'the', 'act', 'of', 'swallowing', 'an', 'animal']
 4. 处理单词对齐
 情况1: 原始文本和对齐文本单词数量相同，逐一更新单词内容
 单词 1: "It" 无需更新
 单词 2: "was" 无需更新
 单词 3: "a" 无需更新
 单词 4: "picture" 无需更新
 单词 5: "of" 无需更新
 单词 6: "a" 无需更新
 单词 7: "boa" 无需更新
 单词 8: "constrictor" 无需更新
 单词 9: "in" 无需更新
 单词 10: "the" 无需更新
 单词 11: "act" 无需更新
 单词 12: "of" 无需更新
 单词 13: "swallowing" 无需更新
 单词 14: "an" 无需更新
 单词 15: "animal" 无需更新
 单词对齐处理完成
 处理句子 71b692c1-7e77-4847-af46-4540e48dac48 的单词对齐
 【开始处理句子 71b692c1-7e77-4847-af46-4540e48dac48 的单词对齐】
 1. 获取现有单词数据
 获取到 7 个单词
 单词 1: id=42b46165-3994-484c-a35f-468dc63fae40, 内容="Here", 开始时间=16130, 结束时间=16580
 单词 2: id=29aa0f6a-597e-4b06-8a65-9ab232c83b9d, 内容="is", 开始时间=16580, 结束时间=16680
 单词 3: id=ac626096-ab7f-4ac2-8748-2b258738cdd8, 内容="a", 开始时间=16680, 结束时间=16790
 单词 4: id=be0765ca-5656-4999-a743-1eb174daf553, 内容="copy", 开始时间=16790, 结束时间=17210
 单词 5: id=551fb31f-d77e-44d4-b74a-4171ab5bcd21, 内容="of", 开始时间=17220, 结束时间=17240
 单词 6: id=e4958b9e-34b5-40a6-9765-f0613bcee221, 内容="the", 开始时间=17250, 结束时间=17360
 单词 7: id=7a8597d4-f35e-4e2f-80fa-f58a53e7c85b, 内容="drawing", 开始时间=17370, 结束时间=17950
 2. 获取句子原始文本
 原始文本: "Here is a copy of the drawing. "
 对齐文本: " Here is a copy of the drawing."
 原始单词列表: (7) ['Here', 'is', 'a', 'copy', 'of', 'the', 'drawing']
 对齐单词列表: (7) ['Here', 'is', 'a', 'copy', 'of', 'the', 'drawing']
 4. 处理单词对齐
 情况1: 原始文本和对齐文本单词数量相同，逐一更新单词内容
 单词 1: "Here" 无需更新
 单词 2: "is" 无需更新
 单词 3: "a" 无需更新
 单词 4: "copy" 无需更新
 单词 5: "of" 无需更新
 单词 6: "the" 无需更新
 单词 7: "drawing" 无需更新
 单词对齐处理完成
 
========================= 对齐摘要 =========================
 - 时间: 2025/3/3 21:21:28
 - 语境块ID: 60f0116c-35f4-401c-93c6-ab68c4a202ea
 - 语音ID: 4763ea9f-3564-47b4-97e1-5ff82d9f3f24
 
【原始语境块内容预览】:
Once when I was six years old I saw a magnificent picture in a book, called True Stories from Nature, about the primeval forest. It was a picture of a boa constrictor in the act of swallowing an anima...
 
【对齐句子 (共4个)】:
 
## 句子 1:
 - 句子ID: 3232f385-e5e8-40d3-9911-22cd0970288a
 - 时间: 2200 → 9090
 - 原始文本: "Once, when I was six years old, I saw a magnificent picture in a book called True Stories from Nature. "
 - 对齐文本: "Once when I was six years old I saw a magnificent picture in a book, called True Stories from Nature, "
 - 单词变更 (20个):
   序号 | 原单词       | 对齐单词     | 开始时间  | 结束时间
   -----|------------|------------|----------|----------
   1    | (无)          | Once         | 2200     | 2640
   2    | (无)          | when         | 2640     | 2770
   3    | (无)          | I            | 2770     | 2860
   4    | (无)          | was          | 2860     | 2980
   5    | (无)          | six          | 2980     | 3280
   6    | (无)          | years        | 3280     | 3490
   7    | (无)          | old          | 3490     | 4100
   8    | (无)          | I            | 4230     | 4470
   9    | (无)          | saw          | 4470     | 4760
   10   | (无)          | a            | 4760     | 4790
   11   | (无)          | magnificent  | 4790     | 5450
   12   | (无)          | picture      | 5460     | 5900
   13   | (无)          | in           | 5900     | 5960
   14   | (无)          | a            | 5970     | 5990
   15   | (无)          | book         | 6070     | 6550
   16   | (无)          | called       | 6560     | 7250
   17   | (无)          | True         | 7390     | 7660
   18   | (无)          | Stories      | 7660     | 8130
   19   | (无)          | from         | 8130     | 8300
   20   | (无)          | Nature       | 8300     | 9090
 
## 句子 2:
 - 句子ID: 63f420f1-1a9a-4129-91a9-fa4a4b52fa1d
 - 时间: 9190 → 10750
 - 原始文本: "About the primeval forest. "
 - 对齐文本: "about the primeval forest."
 - 单词变更 (4个):
   序号 | 原单词       | 对齐单词     | 开始时间  | 结束时间
   -----|------------|------------|----------|----------
   1    | About        | about        | 9190     | 9490
   2    | (无)          | the          | 9520     | 9630
   3    | (无)          | primeval     | 9630     | 10140
   4    | (无)          | forest       | 10140    | 10750
 
## 句子 3:
 - 句子ID: 88b52b5c-1d41-43e5-9de8-4deedea1c0d2
 - 时间: 11460 → 15340
 - 原始文本: "It was a picture of a boa constrictor in the act of swallowing an animal. "
 - 对齐文本: " It was a picture of a boa constrictor in the act of swallowing an animal."
 - 单词变更 (15个):
   序号 | 原单词       | 对齐单词     | 开始时间  | 结束时间
   -----|------------|------------|----------|----------
   1    | (无)          | It           | 11460    | 11600
   2    | (无)          | was          | 11600    | 11790
   3    | (无)          | a            | 11790    | 11890
   4    | (无)          | picture      | 11890    | 12390
   5    | (无)          | of           | 12390    | 12510
   6    | (无)          | a            | 12510    | 12590
   7    | (无)          | boa          | 12590    | 12910
   8    | (无)          | constrictor  | 12920    | 13690
   9    | (无)          | in           | 13690    | 13770
   10   | (无)          | the          | 13770    | 13930
   11   | (无)          | act          | 13930    | 14200
   12   | (无)          | of           | 14200    | 14330
   13   | (无)          | swallowing   | 14330    | 14730
   14   | (无)          | an           | 14730    | 14880
   15   | (无)          | animal       | 14880    | 15340
 
## 句子 4:
 - 句子ID: 71b692c1-7e77-4847-af46-4540e48dac48
 - 时间: 16130 → 17950
 - 原始文本: "Here is a copy of the drawing. "
 - 对齐文本: " Here is a copy of the drawing."
 - 单词变更 (7个):
   序号 | 原单词       | 对齐单词     | 开始时间  | 结束时间
   -----|------------|------------|----------|----------
   1    | (无)          | Here         | 16130    | 16580
   2    | (无)          | is           | 16580    | 16680
   3    | (无)          | a            | 16680    | 16790
   4    | (无)          | copy         | 16790    | 17210
   5    | (无)          | of           | 17220    | 17240
   6    | (无)          | the          | 17250    | 17360
   7    | (无)          | drawing      | 17370    | 17950
 
【剩余未对齐文本】: 无剩余文本，全部完成对齐
 
 =============================================================
 ================== 文本对齐结束 ===================

# 语境块2
3. 初始化对齐结果对象
 4. 开始逐句对齐
 当前块文本: In the book it said: "Boa constrictors swallow their prey whole, without chewing it. After that they are not able to move, and they sleep through the six months that they need for digestion."
 
处理第 1 个句子: Object
 4.1 计算最佳匹配...
 【文本匹配计算】:
 - 句子文本: In the book, it said. 
 - 块文本长度: 191
 - 预处理文本...
 - 规范化后句子长度: 21
 - 规范化后块文本长度: 191
 - 尝试不同窗口大小进行匹配
 - 窗口大小: 21, 26, 31, 25
 - 各窗口最佳匹配:
   窗口大小 21: 分数 0.84, 匹配文本: "in the book it said: "
   窗口大小 26: 分数 0.74, 匹配文本: "in the book it said: "boa "
   窗口大小 31: 分数 0.65, 匹配文本: "in the book it said: "boa const"
   窗口大小 25: 分数 0.74, 匹配文本: "in the book it said: "boa"
 - 最终最佳匹配: 分数 0.84, 位置 0~21
 - 初始匹配文本: "In the book it said: "
 - 向右扩展边界，包含闭合标点 " 字符
 - 优化后匹配文本: "In the book it said: ""
 匹配结果: Object
 4.2 添加对齐结果:
 原始文本: In the book, it said. 
 对齐文本: In the book it said: "
 开始时间: 21350
 结束时间: 22550
 4.3 更新剩余文本，从位置 22 开始截取
 剩余文本(前100字符): Boa constrictors swallow their prey whole, without chewing it. After that they are not able to move,...
 
处理第 2 个句子: Object
 4.1 计算最佳匹配...
 【文本匹配计算】:
 - 句子文本: Boa constrictors swallow their prey hole without chewing it. 
 - 块文本长度: 169
 - 预处理文本...
 - 规范化后句子长度: 60
 - 规范化后块文本长度: 169
 - 尝试不同窗口大小进行匹配
 - 窗口大小: 60, 65, 70, 72
 - 各窗口最佳匹配:
   窗口大小 60: 分数 0.92, 匹配文本: "boa constrictors swallow their prey whole, without..."
   窗口大小 65: 分数 0.92, 匹配文本: "boa constrictors swallow their prey whole, without..."
   窗口大小 70: 分数 0.89, 匹配文本: "boa constrictors swallow their prey whole, without..."
   窗口大小 72: 分数 0.88, 匹配文本: "boa constrictors swallow their prey whole, without..."
 - 最终最佳匹配: 分数 0.92, 位置 0~65
 - 初始匹配文本: "Boa constrictors swallow their prey whole, without chewing it. Af"
 - 找到句子结束符 . 在位置 61
 - 截断到第一个完整句子: "Boa constrictors swallow their prey whole, without chewing it."
 匹配结果: Object
 4.2 添加对齐结果:
 原始文本: Boa constrictors swallow their prey hole without chewing it. 
 对齐文本: Boa constrictors swallow their prey whole, without chewing it.
 开始时间: 23050
 结束时间: 26460
 4.3 更新剩余文本，从位置 62 开始截取
 剩余文本(前100字符):  After that they are not able to move, and they sleep through the six months that they need for dige...
 
处理第 3 个句子: Object
 4.1 计算最佳匹配...
 【文本匹配计算】:
 - 句子文本: After that, they are not able to move and they sleep through the six month that they need for digestion. 
 - 块文本长度: 107
 - 预处理文本...
 - 规范化后句子长度: 104
 - 规范化后块文本长度: 106
 - 尝试不同窗口大小进行匹配
 - 窗口大小: 104, 109, 114, 125
 - 各窗口最佳匹配:
   窗口大小 104: 分数 0.94, 匹配文本: "after that they are not able to move, and they sle..."
 - 最终最佳匹配: 分数 0.94, 位置 0~104
 - 初始匹配文本: " After that they are not able to move, and they sleep through the six months that they need for digestio"
 - 向右扩展边界，包含闭合标点 " 字符
 - 优化后匹配文本: " After that they are not able to move, and they sleep through the six months that they need for digestion.""
 匹配结果: Object
 4.2 添加对齐结果:
 原始文本: After that, they are not able to move and they sleep through the six month that they need for digestion. 
 对齐文本:  After that they are not able to move, and they sleep through the six months that they need for digestion."
 开始时间: 27070
 结束时间: 32790
 4.3 更新剩余文本，从位置 107 开始截取
 剩余文本(前100字符): 
 
处理第 4 个句子: Object
 当前块文本已用完，停止对齐
 
5. 对齐过程完成
 成功对齐 3 个句子
 剩余未对齐文本长度: 0
 
6. 【预期数据库更新操作】:
 6.1 更新语境块: Object
 6.2 更新句子:
   句子ID 2653c9cd-b8fd-4df0-8e2e-db89b715bf2c: Object
   句子ID abdb6094-b07d-4c46-b6ea-d6e1a965cd70: Object
   句子ID cade9a4d-dfcb-4722-91d2-082855160172: Object
 6.3 创建句子-块关联:
   关联记录: Object
   关联记录: Object
   关联记录: Object
 
7. 执行实际数据库更新
 【开始保存对齐结果】
 更新语境块: c533c29b-1951-488b-9658-ebf5cfab5e1f
 更新数据: Object
 语境块更新成功
 更新句子数据:
 处理句子 2653c9cd-b8fd-4df0-8e2e-db89b715bf2c
 句子更新数据: Object
 句子 2653c9cd-b8fd-4df0-8e2e-db89b715bf2c 更新成功
 创建语境块-句子关联: 块=c533c29b-1951-488b-9658-ebf5cfab5e1f, 句子=2653c9cd-b8fd-4df0-8e2e-db89b715bf2c
 关联数据: Object
 关联创建成功
 处理句子 abdb6094-b07d-4c46-b6ea-d6e1a965cd70
 句子更新数据: Object
 句子 abdb6094-b07d-4c46-b6ea-d6e1a965cd70 更新成功
 创建语境块-句子关联: 块=c533c29b-1951-488b-9658-ebf5cfab5e1f, 句子=abdb6094-b07d-4c46-b6ea-d6e1a965cd70
 关联数据: Object
 关联创建成功
 处理句子 cade9a4d-dfcb-4722-91d2-082855160172
 句子更新数据: Object
 句子 cade9a4d-dfcb-4722-91d2-082855160172 更新成功
 创建语境块-句子关联: 块=c533c29b-1951-488b-9658-ebf5cfab5e1f, 句子=cade9a4d-dfcb-4722-91d2-082855160172
 关联数据: Object
 关联创建成功
 对齐结果保存成功
 
8. 处理单词级对齐
 处理句子 2653c9cd-b8fd-4df0-8e2e-db89b715bf2c 的单词对齐
 【开始处理句子 2653c9cd-b8fd-4df0-8e2e-db89b715bf2c 的单词对齐】
 1. 获取现有单词数据
 获取到 5 个单词
 单词 1: id=4776edde-447a-494e-9bc0-a9198c8a7e6e, 内容="In", 开始时间=21350, 结束时间=21560
 单词 2: id=e076eae1-1cc1-4a64-86c2-ea2eb7d3a3bc, 内容="the", 开始时间=21560, 结束时间=21650
 单词 3: id=de4bf28d-0d63-4c58-af0d-95d4614812d8, 内容="book", 开始时间=21650, 结束时间=21870
 单词 4: id=5854e3d0-b13d-4b5d-8afe-462a1d13db5a, 内容="it", 开始时间=21870, 结束时间=21980
 单词 5: id=f6463922-ec77-4a9d-b3d8-d9674d1f0967, 内容="said", 开始时间=21980, 结束时间=22550
 2. 获取句子原始文本
 原始文本: "In the book, it said. "
 对齐文本: "In the book it said: ""
 原始单词列表: Array(5)
 对齐单词列表: Array(5)
 4. 处理单词对齐
 情况1: 原始文本和对齐文本单词数量相同，逐一更新单词内容
 单词 1: "In" 无需更新
 单词 2: "the" 无需更新
 单词 3: "book" 无需更新
 单词 4: "it" 无需更新
 单词 5: "said" 无需更新
 单词对齐处理完成
 处理句子 abdb6094-b07d-4c46-b6ea-d6e1a965cd70 的单词对齐
 【开始处理句子 abdb6094-b07d-4c46-b6ea-d6e1a965cd70 的单词对齐】
 1. 获取现有单词数据
 获取到 9 个单词
 单词 1: id=f2223138-14ca-4ae1-a604-949286c8990b, 内容="Boa", 开始时间=23050, 结束时间=23510
 单词 2: id=05268950-f6ca-4278-a13e-0128b8df71c2, 内容="constrictors", 开始时间=23510, 结束时间=24120
 单词 3: id=41b9b194-02fc-4cf9-9d47-f9211eba49d4, 内容="swallow", 开始时间=24120, 结束时间=24530
 单词 4: id=f0c70409-b923-4207-9c02-4f64acc5b919, 内容="their", 开始时间=24530, 结束时间=24760
 单词 5: id=900c7bfc-95ed-4453-8287-47aaf737215f, 内容="prey", 开始时间=24760, 结束时间=25020
 单词 6: id=286deacc-4337-4922-929e-a935a48776e9, 内容="hole", 开始时间=25030, 结束时间=25520
 单词 7: id=ab5068d9-1571-4d4a-9c7d-7cd9fcbdd4af, 内容="without", 开始时间=25530, 结束时间=25960
 单词 8: id=0cf76c25-f360-47b7-98b3-366e12ab69f4, 内容="chewing", 开始时间=25960, 结束时间=26320
 单词 9: id=144f7bc4-d9e7-4829-b125-86394f154436, 内容="it", 开始时间=26320, 结束时间=26460
 2. 获取句子原始文本
 原始文本: "Boa constrictors swallow their prey hole without chewing it. "
 对齐文本: "Boa constrictors swallow their prey whole, without chewing it."
 原始单词列表: (9) ['Boa', 'constrictors', 'swallow', 'their', 'prey', 'hole', 'without', 'chewing', 'it']
 对齐单词列表: (9) ['Boa', 'constrictors', 'swallow', 'their', 'prey', 'whole', 'without', 'chewing', 'it']
 4. 处理单词对齐
 情况1: 原始文本和对齐文本单词数量相同，逐一更新单词内容
 单词 1: "Boa" 无需更新
 单词 2: "constrictors" 无需更新
 单词 3: "swallow" 无需更新
 单词 4: "their" 无需更新
 单词 5: "prey" 无需更新
 更新单词 6: {id: '286deacc-4337-4922-929e-a935a48776e9', oldWord: 'hole', newWord: 'whole'}
 单词 286deacc-4337-4922-929e-a935a48776e9 更新成功
 单词 7: "without" 无需更新
 单词 8: "chewing" 无需更新
 单词 9: "it" 无需更新
 单词对齐处理完成
 处理句子 cade9a4d-dfcb-4722-91d2-082855160172 的单词对齐
 【开始处理句子 cade9a4d-dfcb-4722-91d2-082855160172 的单词对齐】
 1. 获取现有单词数据
 获取到 20 个单词
 单词 1: id=9891e1aa-1425-4523-b699-940098d76c5e, 内容="After", 开始时间=27070, 结束时间=27620
 单词 2: id=e8b35a59-b8f0-4ad4-898c-6f85eb53a64f, 内容="that", 开始时间=27620, 结束时间=28040
 单词 3: id=9b5f1ecc-dd78-40a5-b260-6b4575b6089a, 内容="they", 开始时间=28060, 结束时间=28240
 单词 4: id=72b87f58-e382-490b-b5ec-ee88fe154f66, 内容="are", 开始时间=28240, 结束时间=28290
 单词 5: id=6641340a-db66-4f93-885f-6108e6903a09, 内容="not", 开始时间=28290, 结束时间=28560
 单词 6: id=753ebf41-c48d-42d6-802c-b5b7c49a8c6e, 内容="able", 开始时间=28560, 结束时间=28770
 单词 7: id=613d2350-c36a-4e25-8531-b85ca7a0e49b, 内容="to", 开始时间=28770, 结束时间=28850
 单词 8: id=d61d35bc-ef04-4bd5-a20b-e4f5fb8916da, 内容="move", 开始时间=28850, 结束时间=29580
 单词 9: id=2066262e-77e5-410b-b38f-92cb937de559, 内容="and", 开始时间=29660, 结束时间=29900
 单词 10: id=928d4390-fa3d-4ae2-843c-1915a140cae7, 内容="they", 开始时间=29900, 结束时间=30030
 单词 11: id=5820710d-2337-4376-b725-854862718ad1, 内容="sleep", 开始时间=30030, 结束时间=30370
 单词 12: id=c928ce5f-f983-4f94-b051-f81b495175bb, 内容="through", 开始时间=30370, 结束时间=30560
 单词 13: id=88640116-697a-46df-9d25-ca4c70ba08ad, 内容="the", 开始时间=30560, 结束时间=30670
 单词 14: id=d1781ac7-cc2b-46e0-9406-75c8ba3f3603, 内容="six", 开始时间=30670, 结束时间=31030
 单词 15: id=88b7101d-fff1-4201-b981-cf6084ea6105, 内容="month", 开始时间=31030, 结束时间=31420
 单词 16: id=5a44a6b8-e3ea-4948-af10-ce5af17a65f4, 内容="that", 开始时间=31430, 结束时间=31580
 单词 17: id=c389ef0d-9e36-4b4b-8904-7f36bec17e69, 内容="they", 开始时间=31580, 结束时间=31750
 单词 18: id=38f4ca8f-9f73-414f-b63c-f5f1775b2582, 内容="need", 开始时间=31750, 结束时间=32030
 单词 19: id=b6fc8c96-f259-4a1d-80cb-44a6b0626e4f, 内容="for", 开始时间=32030, 结束时间=32170
 单词 20: id=0056d072-ec2f-47f7-b988-e173c90b08e2, 内容="digestion", 开始时间=32170, 结束时间=32790
 2. 获取句子原始文本
 原始文本: "After that, they are not able to move and they sleep through the six month that they need for digestion. "
 对齐文本: " After that they are not able to move, and they sleep through the six months that they need for digestion.""
 原始单词列表: (20) ['After', 'that', 'they', 'are', 'not', 'able', 'to', 'move', 'and', 'they', 'sleep', 'through', 'the', 'six', 'month', 'that', 'they', 'need', 'for', 'digestion']
 对齐单词列表: (20) ['After', 'that', 'they', 'are', 'not', 'able', 'to', 'move', 'and', 'they', 'sleep', 'through', 'the', 'six', 'months', 'that', 'they', 'need', 'for', 'digestion']
 4. 处理单词对齐
 情况1: 原始文本和对齐文本单词数量相同，逐一更新单词内容
 单词 1: "After" 无需更新
 单词 2: "that" 无需更新
 单词 3: "they" 无需更新
 单词 4: "are" 无需更新
 单词 5: "not" 无需更新
 单词 6: "able" 无需更新
 单词 7: "to" 无需更新
 单词 8: "move" 无需更新
 单词 9: "and" 无需更新
 单词 10: "they" 无需更新
 单词 11: "sleep" 无需更新
 单词 12: "through" 无需更新
 单词 13: "the" 无需更新
 单词 14: "six" 无需更新
 更新单词 15: {id: '88b7101d-fff1-4201-b981-cf6084ea6105', oldWord: 'month', newWord: 'months'}
 单词 88b7101d-fff1-4201-b981-cf6084ea6105 更新成功
 单词 16: "that" 无需更新
 单词 17: "they" 无需更新
 单词 18: "need" 无需更新
 单词 19: "for" 无需更新
 单词 20: "digestion" 无需更新
 单词对齐处理完成
 
========================= 对齐摘要 =========================
 - 时间: 2025/3/3 21:36:35
 - 语境块ID: c533c29b-1951-488b-9658-ebf5cfab5e1f
 - 语音ID: 4763ea9f-3564-47b4-97e1-5ff82d9f3f24
 
【原始语境块内容预览】:
In the book it said: "Boa constrictors swallow their prey whole, without chewing it. After that they are not able to move, and they sleep through the six months that they need for digestion."
 
【对齐句子 (共3个)】:
 
## 句子 1:
 - 句子ID: 2653c9cd-b8fd-4df0-8e2e-db89b715bf2c
 - 时间: 21350 → 22550
 - 原始文本: "In the book, it said. "
 - 对齐文本: "In the book it said: ""
 - 单词变更 (5个):
   序号 | 原单词       | 对齐单词     | 开始时间  | 结束时间
   -----|------------|------------|----------|----------
   1    | (无)          | In           | 21350    | 21560
   2    | (无)          | the          | 21560    | 21650
   3    | (无)          | book         | 21650    | 21870
   4    | (无)          | it           | 21870    | 21980
   5    | (无)          | said         | 21980    | 22550
 
## 句子 2:
 - 句子ID: abdb6094-b07d-4c46-b6ea-d6e1a965cd70
 - 时间: 23050 → 26460
 - 原始文本: "Boa constrictors swallow their prey hole without chewing it. "
 - 对齐文本: "Boa constrictors swallow their prey whole, without chewing it."
 - 单词变更 (9个):
   序号 | 原单词       | 对齐单词     | 开始时间  | 结束时间
   -----|------------|------------|----------|----------
   1    | (无)          | Boa          | 23050    | 23510
   2    | (无)          | constrictors | 23510    | 24120
   3    | (无)          | swallow      | 24120    | 24530
   4    | (无)          | their        | 24530    | 24760
   5    | (无)          | prey         | 24760    | 25020
   6    | hole         | whole        | 25030    | 25520
   7    | (无)          | without      | 25530    | 25960
   8    | (无)          | chewing      | 25960    | 26320
   9    | (无)          | it           | 26320    | 26460
 
## 句子 3:
 - 句子ID: cade9a4d-dfcb-4722-91d2-082855160172
 - 时间: 27070 → 32790
 - 原始文本: "After that, they are not able to move and they sleep through the six month that they need for digestion. "
 - 对齐文本: " After that they are not able to move, and they sleep through the six months that they need for digestion.""
 - 单词变更 (20个):
   序号 | 原单词       | 对齐单词     | 开始时间  | 结束时间
   -----|------------|------------|----------|----------
   1    | (无)          | After        | 27070    | 27620
   2    | (无)          | that         | 27620    | 28040
   3    | (无)          | they         | 28060    | 28240
   4    | (无)          | are          | 28240    | 28290
   5    | (无)          | not          | 28290    | 28560
   6    | (无)          | able         | 28560    | 28770
   7    | (无)          | to           | 28770    | 28850
   8    | (无)          | move         | 28850    | 29580
   9    | (无)          | and          | 29660    | 29900
   10   | (无)          | they         | 29900    | 30030
   11   | (无)          | sleep        | 30030    | 30370
   12   | (无)          | through      | 30370    | 30560
   13   | (无)          | the          | 30560    | 30670
   14   | (无)          | six          | 30670    | 31030
   15   | month        | months       | 31030    | 31420
   16   | (无)          | that         | 31430    | 31580
   17   | (无)          | they         | 31580    | 31750
   18   | (无)          | need         | 31750    | 32030
   19   | (无)          | for          | 32030    | 32170
   20   | (无)          | digestion    | 32170    | 32790
 
【剩余未对齐文本】: 无剩余文本，全部完成对齐
 =============================================================
 ================== 文本对齐结束 ===================

 # 语境块3
 4. 开始逐句对齐
 当前块文本: I pondered deeply, then, over the adventures of the jungle. And after some work with a coloured pencil I succeeded in making my first drawing. My Drawing Number One. It looked like this:
 
处理第 1 个句子: Object
 4.1 计算最佳匹配...
 【文本匹配计算】:
 - 句子文本: I pondered deeply, then over the adventures of the jungle. 
 - 块文本长度: 186
 - 预处理文本...
 - 规范化后句子长度: 58
 - 规范化后块文本长度: 186
 - 尝试不同窗口大小进行匹配
 - 窗口大小: 58, 63, 68, 70
 - 各窗口最佳匹配:
   窗口大小 58: 分数 0.96, 匹配文本: "i pondered deeply, then, over the adventures of th..."
   窗口大小 63: 分数 0.94, 匹配文本: "i pondered deeply, then, over the adventures of th..."
   窗口大小 68: 分数 0.90, 匹配文本: "i pondered deeply, then, over the adventures of th..."
   窗口大小 70: 分数 0.90, 匹配文本: "i pondered deeply, then, over the adventures of th..."
 - 最终最佳匹配: 分数 0.96, 位置 0~58
 - 初始匹配文本: "I pondered deeply, then, over the adventures of the jungle"
 - 向右扩展边界，包含句子结束符 .
 - 优化后匹配文本: "I pondered deeply, then, over the adventures of the jungle."
 匹配结果: Object
 4.2 添加对齐结果:
 原始文本: I pondered deeply, then over the adventures of the jungle. 
 对齐文本: I pondered deeply, then, over the adventures of the jungle.
 开始时间: 34140
 结束时间: 37400
 4.3 更新剩余文本，从位置 59 开始截取
 剩余文本(前100字符):  And after some work with a coloured pencil I succeeded in making my first drawing. My Drawing Numbe...
 
处理第 2 个句子: Object
 4.1 计算最佳匹配...
 【文本匹配计算】:
 - 句子文本: And after some work with a colored pencil, I succeeded in making my first drawing. 
 - 块文本长度: 127
 - 预处理文本...
 - 规范化后句子长度: 82
 - 规范化后块文本长度: 126
 - 尝试不同窗口大小进行匹配
 - 窗口大小: 82, 87, 92, 98
 - 各窗口最佳匹配:
   窗口大小 82: 分数 0.96, 匹配文本: "and after some work with a coloured pencil i succe..."
   窗口大小 87: 分数 0.93, 匹配文本: "and after some work with a coloured pencil i succe..."
   窗口大小 92: 分数 0.90, 匹配文本: "and after some work with a coloured pencil i succe..."
   窗口大小 98: 分数 0.87, 匹配文本: "and after some work with a coloured pencil i succe..."
 - 最终最佳匹配: 分数 0.96, 位置 0~82
 - 初始匹配文本: " And after some work with a coloured pencil I succeeded in making my first drawing"
 - 向右扩展边界，包含句子结束符 .
 - 优化后匹配文本: " And after some work with a coloured pencil I succeeded in making my first drawing."
 匹配结果: Object
 4.2 添加对齐结果:
 原始文本: And after some work with a colored pencil, I succeeded in making my first drawing. 
 对齐文本:  And after some work with a coloured pencil I succeeded in making my first drawing.
 开始时间: 38270
 结束时间: 42750
 4.3 更新剩余文本，从位置 83 开始截取
 剩余文本(前100字符):  My Drawing Number One. It looked like this:
 
处理第 3 个句子: Object
 4.1 计算最佳匹配...
 【文本匹配计算】:
 - 句子文本: By drawing number one. 
 - 块文本长度: 44
 - 预处理文本...
 - 规范化后句子长度: 22
 - 规范化后块文本长度: 43
 - 尝试不同窗口大小进行匹配
 - 窗口大小: 22, 27, 32, 26
 - 各窗口最佳匹配:
   窗口大小 22: 分数 0.97, 匹配文本: "y drawing number one. "
   窗口大小 27: 分数 0.87, 匹配文本: "my drawing number one. it l"
   窗口大小 32: 分数 0.79, 匹配文本: "y drawing number one. it looked "
   窗口大小 26: 分数 0.89, 匹配文本: "my drawing number one. it "
 - 最终最佳匹配: 分数 0.97, 位置 1~23
 - 初始匹配文本: "My Drawing Number One."
 - 找到句子结束符 . 在位置 21
 - 优化后匹配文本: "My Drawing Number One."
 匹配结果: Object
 4.2 添加对齐结果:
 原始文本: By drawing number one. 
 对齐文本: My Drawing Number One.
 开始时间: 43070
 结束时间: 44430
 4.3 更新剩余文本，从位置 23 开始截取
 剩余文本(前100字符):  It looked like this:
 
处理第 4 个句子: Object
 4.1 计算最佳匹配...
 【文本匹配计算】:
 - 句子文本: It looked like this. 
 - 块文本长度: 21
 - 预处理文本...
 - 规范化后句子长度: 20
 - 规范化后块文本长度: 20
 - 尝试不同窗口大小进行匹配
 - 窗口大小: 20, 25, 30, 24
 - 各窗口最佳匹配:
   窗口大小 20: 分数 0.94, 匹配文本: "it looked like this:"
 - 最终最佳匹配: 分数 0.94, 位置 0~20
 - 初始匹配文本: " It looked like this"
 - 优化后匹配文本: " It looked like this"
 匹配结果: Object
 4.2 添加对齐结果:
 原始文本: It looked like this. 
 对齐文本:  It looked like this
 开始时间: 44830
 结束时间: 46200
 4.3 更新剩余文本，从位置 20 开始截取
 剩余文本(前100字符): :
 
处理第 5 个句子: Object
 4.1 计算最佳匹配...
 【文本匹配计算】:
 - 句子文本: I showed my masterpiece to the grown ups and asked them whether the drawing frightened them. 
 - 块文本长度: 1
 - 预处理文本...
 - 规范化后句子长度: 92
 - 规范化后块文本长度: 1
 - 句子长度超过块文本长度，返回低匹配度
 匹配结果: Object
 匹配度过低(低于0.6)，停止对齐
 
5. 对齐过程完成
 成功对齐 4 个句子
 剩余未对齐文本长度: 1
 
6. 【预期数据库更新操作】:
 6.1 更新语境块: Object
 6.2 更新句子:
   句子ID bdda34ee-d7de-454d-9243-8765d11da153: Object
   句子ID 31eb45a6-7b33-4e75-a7a9-2c7e26d686ea: Object
   句子ID 35bd28b9-a49c-476a-817f-e098c33be4c5: Object
   句子ID 1e7e29e9-e9c2-40b8-95b6-d346aa5f7186: Object
 6.3 创建句子-块关联:
   关联记录: Object
   关联记录: Object
   关联记录: Object
   关联记录: Object
 
7. 执行实际数据库更新
 【开始保存对齐结果】
 更新语境块: 36ffab62-dbf8-46f0-8a4e-563692c0f15d
 更新数据: Object
 语境块更新成功
 更新句子数据:
 处理句子 bdda34ee-d7de-454d-9243-8765d11da153
 句子更新数据: Object
 句子 bdda34ee-d7de-454d-9243-8765d11da153 更新成功
 创建语境块-句子关联: 块=36ffab62-dbf8-46f0-8a4e-563692c0f15d, 句子=bdda34ee-d7de-454d-9243-8765d11da153
 关联数据: Object
 关联创建成功
 处理句子 31eb45a6-7b33-4e75-a7a9-2c7e26d686ea
 句子更新数据: Object
 句子 31eb45a6-7b33-4e75-a7a9-2c7e26d686ea 更新成功
 创建语境块-句子关联: 块=36ffab62-dbf8-46f0-8a4e-563692c0f15d, 句子=31eb45a6-7b33-4e75-a7a9-2c7e26d686ea
 关联数据: Object
 关联创建成功
 处理句子 35bd28b9-a49c-476a-817f-e098c33be4c5
 句子更新数据: Object
 句子 35bd28b9-a49c-476a-817f-e098c33be4c5 更新成功
 创建语境块-句子关联: 块=36ffab62-dbf8-46f0-8a4e-563692c0f15d, 句子=35bd28b9-a49c-476a-817f-e098c33be4c5
 关联数据: Object
 关联创建成功
 处理句子 1e7e29e9-e9c2-40b8-95b6-d346aa5f7186
 句子更新数据: Object
 句子 1e7e29e9-e9c2-40b8-95b6-d346aa5f7186 更新成功
 创建语境块-句子关联: 块=36ffab62-dbf8-46f0-8a4e-563692c0f15d, 句子=1e7e29e9-e9c2-40b8-95b6-d346aa5f7186
 关联数据: Object
 关联创建成功
 对齐结果保存成功
 
8. 处理单词级对齐
 处理句子 bdda34ee-d7de-454d-9243-8765d11da153 的单词对齐
 【开始处理句子 bdda34ee-d7de-454d-9243-8765d11da153 的单词对齐】
 1. 获取现有单词数据
 获取到 10 个单词
 单词 1: id=c28b2e3c-d31b-40e0-b55a-ac1e52a76235, 内容="I", 开始时间=34140, 结束时间=34150
 单词 2: id=02cf4edb-aa6f-434a-a1b0-32ad64fdb3e6, 内容="pondered", 开始时间=34190, 结束时间=34570
 单词 3: id=f9f13e50-7f68-4ef1-95c5-7cdff6027bab, 内容="deeply", 开始时间=34580, 结束时间=35140
 单词 4: id=18394423-bbb3-4419-a91f-19d6b5e37329, 内容="then", 开始时间=35140, 结束时间=35670
 单词 5: id=c1623635-c573-49d0-8957-6c64b52374ba, 内容="over", 开始时间=35810, 结束时间=36110
 单词 6: id=250c743a-d130-4413-8c84-211b71843474, 内容="the", 开始时间=36110, 结束时间=36260
 单词 7: id=a7872d4f-6198-4a9a-8af5-059083002dfe, 内容="adventures", 开始时间=36260, 结束时间=36810
 单词 8: id=77aadcf8-3584-4d90-903d-294f1a97190d, 内容="of", 开始时间=36810, 结束时间=36920
 单词 9: id=d260a40e-e21c-4558-8b2f-0b0fd60b4bf8, 内容="the", 开始时间=36920, 结束时间=37030
 单词 10: id=53ec6c28-8859-4e57-934c-f18ab5898826, 内容="jungle", 开始时间=37030, 结束时间=37400
 2. 获取句子原始文本
 原始文本: "I pondered deeply, then over the adventures of the jungle. "
 对齐文本: "I pondered deeply, then, over the adventures of the jungle."
 原始单词列表: Array(10)
 对齐单词列表: Array(10)
 4. 处理单词对齐
 情况1: 原始文本和对齐文本单词数量相同，逐一更新单词内容
 单词 1: "I" 无需更新
 单词 2: "pondered" 无需更新
 单词 3: "deeply" 无需更新
 单词 4: "then" 无需更新
 单词 5: "over" 无需更新
 单词 6: "the" 无需更新
 单词 7: "adventures" 无需更新
 单词 8: "of" 无需更新
 单词 9: "the" 无需更新
 单词 10: "jungle" 无需更新
 单词对齐处理完成
 处理句子 31eb45a6-7b33-4e75-a7a9-2c7e26d686ea 的单词对齐
 【开始处理句子 31eb45a6-7b33-4e75-a7a9-2c7e26d686ea 的单词对齐】
 1. 获取现有单词数据
 获取到 15 个单词
 单词 1: id=426e6ef2-6759-4c16-a500-b23230af33ee, 内容="And", 开始时间=38270, 结束时间=38530
 单词 2: id=56905cc2-1895-4149-89a7-02d7060f4c61, 内容="after", 开始时间=38530, 结束时间=38810
 单词 3: id=7a936bb5-2b24-4566-b58a-6420d840cef4, 内容="some", 开始时间=38810, 结束时间=39020
 单词 4: id=806dbd8e-4e00-43a2-82c8-3d8de8b81451, 内容="work", 开始时间=39020, 结束时间=39260
 单词 5: id=6be4e4f5-b0a5-4a76-aeae-b45be62a5b58, 内容="with", 开始时间=39270, 结束时间=39400
 单词 6: id=7b8c76bf-1a7f-4974-bfab-95da0a05c638, 内容="a", 开始时间=39400, 结束时间=39470
 单词 7: id=c24859b0-373f-492b-abac-6eb67be160e3, 内容="colored", 开始时间=39470, 结束时间=39800
 单词 8: id=56ecb2e2-7807-4e26-8298-c5c56aaff84f, 内容="pencil", 开始时间=39800, 结束时间=40410
 单词 9: id=c9ca1b83-6bc0-46f9-b2ca-458408b4ee8e, 内容="I", 开始时间=40420, 结束时间=40650
 单词 10: id=5cdcf790-9979-411d-9b5d-196a53938aa1, 内容="succeeded", 开始时间=40650, 结束时间=41160
 单词 11: id=e9280338-7231-4605-9cd0-c326bc641a24, 内容="in", 开始时间=41160, 结束时间=41250
 单词 12: id=7d24eb6c-8bc4-4e5f-bd3c-98dcfad5e0ae, 内容="making", 开始时间=41250, 结束时间=41550
 单词 13: id=617a5953-20ca-4eb6-8440-4fd363a3f92d, 内容="my", 开始时间=41550, 结束时间=41750
 单词 14: id=839ef2af-4fd9-496b-af0d-0c01015b91d3, 内容="first", 开始时间=41750, 结束时间=42100
 单词 15: id=8872bbb3-8c5d-4db7-9b87-0087e04ae81b, 内容="drawing", 开始时间=42100, 结束时间=42750
 2. 获取句子原始文本
 原始文本: "And after some work with a colored pencil, I succeeded in making my first drawing. "
 对齐文本: " And after some work with a coloured pencil I succeeded in making my first drawing."
 原始单词列表: Array(15)
 对齐单词列表: Array(15)
 4. 处理单词对齐
 情况1: 原始文本和对齐文本单词数量相同，逐一更新单词内容
 单词 1: "And" 无需更新
 单词 2: "after" 无需更新
 单词 3: "some" 无需更新
 单词 4: "work" 无需更新
 单词 5: "with" 无需更新
 单词 6: "a" 无需更新
 更新单词 7: Object
 单词 c24859b0-373f-492b-abac-6eb67be160e3 更新成功
 单词 8: "pencil" 无需更新
 单词 9: "I" 无需更新
 单词 10: "succeeded" 无需更新
 单词 11: "in" 无需更新
 单词 12: "making" 无需更新
 单词 13: "my" 无需更新
 单词 14: "first" 无需更新
 单词 15: "drawing" 无需更新
 单词对齐处理完成
 处理句子 35bd28b9-a49c-476a-817f-e098c33be4c5 的单词对齐
 【开始处理句子 35bd28b9-a49c-476a-817f-e098c33be4c5 的单词对齐】
 1. 获取现有单词数据
 获取到 4 个单词
 单词 1: id=3cef749d-f024-4bfc-8713-c476ea3c0f46, 内容="By", 开始时间=43070, 结束时间=43330
 单词 2: id=b6b5fac7-c558-48e2-96fc-e9fc231b3d38, 内容="drawing", 开始时间=43330, 结束时间=43660
 单词 3: id=9e4047b0-b6e2-414d-8b96-2a41f18b9179, 内容="number", 开始时间=43660, 结束时间=43910
 单词 4: id=fe197f86-d17f-4cd0-81c7-18fe3d7412d3, 内容="one", 开始时间=43910, 结束时间=44430
 2. 获取句子原始文本
 原始文本: "By drawing number one. "
 对齐文本: "My Drawing Number One."
 原始单词列表: (4) ['By', 'drawing', 'number', 'one']
 对齐单词列表: (4) ['My', 'Drawing', 'Number', 'One']
 4. 处理单词对齐
 情况1: 原始文本和对齐文本单词数量相同，逐一更新单词内容
 更新单词 1: {id: '3cef749d-f024-4bfc-8713-c476ea3c0f46', oldWord: 'By', newWord: 'My'}
 单词 3cef749d-f024-4bfc-8713-c476ea3c0f46 更新成功
 更新单词 2: {id: 'b6b5fac7-c558-48e2-96fc-e9fc231b3d38', oldWord: 'drawing', newWord: 'Drawing'}
 单词 b6b5fac7-c558-48e2-96fc-e9fc231b3d38 更新成功
 更新单词 3: {id: '9e4047b0-b6e2-414d-8b96-2a41f18b9179', oldWord: 'number', newWord: 'Number'}
 单词 9e4047b0-b6e2-414d-8b96-2a41f18b9179 更新成功
 更新单词 4: {id: 'fe197f86-d17f-4cd0-81c7-18fe3d7412d3', oldWord: 'one', newWord: 'One'}
 单词 fe197f86-d17f-4cd0-81c7-18fe3d7412d3 更新成功
 单词对齐处理完成
 处理句子 1e7e29e9-e9c2-40b8-95b6-d346aa5f7186 的单词对齐
 【开始处理句子 1e7e29e9-e9c2-40b8-95b6-d346aa5f7186 的单词对齐】
 1. 获取现有单词数据
 获取到 4 个单词
 单词 1: id=5767a1af-0f97-4297-b430-7dcd9bcd17bb, 内容="It", 开始时间=44830, 结束时间=45140
 单词 2: id=f6141a0e-fb25-4e51-b5ae-da40cb71f530, 内容="looked", 开始时间=45140, 结束时间=45370
 单词 3: id=a39397e0-39c3-406f-9f87-8f54ced8ef2b, 内容="like", 开始时间=45370, 结束时间=45570
 单词 4: id=064016d2-92dd-4e70-9e55-466832fedc65, 内容="this", 开始时间=45580, 结束时间=46200
 2. 获取句子原始文本
 原始文本: "It looked like this. "
 对齐文本: " It looked like this"
 原始单词列表: (4) ['It', 'looked', 'like', 'this']
 对齐单词列表: (4) ['It', 'looked', 'like', 'this']
 4. 处理单词对齐
 情况1: 原始文本和对齐文本单词数量相同，逐一更新单词内容
 单词 1: "It" 无需更新
 单词 2: "looked" 无需更新
 单词 3: "like" 无需更新
 单词 4: "this" 无需更新
 单词对齐处理完成
 
========================= 对齐摘要 =========================
 - 时间: 2025/3/3 21:38:41
 - 语境块ID: 36ffab62-dbf8-46f0-8a4e-563692c0f15d
 - 语音ID: 4763ea9f-3564-47b4-97e1-5ff82d9f3f24
 
【原始语境块内容预览】:
I pondered deeply, then, over the adventures of the jungle. And after some work with a coloured pencil I succeeded in making my first drawing. My Drawing Number One. It looked like this:
 
【对齐句子 (共4个)】:
 
## 句子 1:
 - 句子ID: bdda34ee-d7de-454d-9243-8765d11da153
 - 时间: 34140 → 37400
 - 原始文本: "I pondered deeply, then over the adventures of the jungle. "
 - 对齐文本: "I pondered deeply, then, over the adventures of the jungle."
 - 单词变更 (10个):
   序号 | 原单词       | 对齐单词     | 开始时间  | 结束时间
   -----|------------|------------|----------|----------
   1    | (无)          | I            | 34140    | 34150
   2    | (无)          | pondered     | 34190    | 34570
   3    | (无)          | deeply       | 34580    | 35140
   4    | (无)          | then         | 35140    | 35670
   5    | (无)          | over         | 35810    | 36110
   6    | (无)          | the          | 36110    | 36260
   7    | (无)          | adventures   | 36260    | 36810
   8    | (无)          | of           | 36810    | 36920
   9    | (无)          | the          | 36920    | 37030
   10   | (无)          | jungle       | 37030    | 37400
 
## 句子 2:
 - 句子ID: 31eb45a6-7b33-4e75-a7a9-2c7e26d686ea
 - 时间: 38270 → 42750
 - 原始文本: "And after some work with a colored pencil, I succeeded in making my first drawing. "
 - 对齐文本: " And after some work with a coloured pencil I succeeded in making my first drawing."
 - 单词变更 (15个):
   序号 | 原单词       | 对齐单词     | 开始时间  | 结束时间
   -----|------------|------------|----------|----------
   1    | (无)          | And          | 38270    | 38530
   2    | (无)          | after        | 38530    | 38810
   3    | (无)          | some         | 38810    | 39020
   4    | (无)          | work         | 39020    | 39260
   5    | (无)          | with         | 39270    | 39400
   6    | (无)          | a            | 39400    | 39470
   7    | colored      | coloured     | 39470    | 39800
   8    | (无)          | pencil       | 39800    | 40410
   9    | (无)          | I            | 40420    | 40650
   10   | (无)          | succeeded    | 40650    | 41160
   11   | (无)          | in           | 41160    | 41250
   12   | (无)          | making       | 41250    | 41550
   13   | (无)          | my           | 41550    | 41750
   14   | (无)          | first        | 41750    | 42100
   15   | (无)          | drawing      | 42100    | 42750
 
## 句子 3:
 - 句子ID: 35bd28b9-a49c-476a-817f-e098c33be4c5
 - 时间: 43070 → 44430
 - 原始文本: "By drawing number one. "
 - 对齐文本: "My Drawing Number One."
 - 单词变更 (4个):
   序号 | 原单词       | 对齐单词     | 开始时间  | 结束时间
   -----|------------|------------|----------|----------
   1    | By           | My           | 43070    | 43330
   2    | drawing      | Drawing      | 43330    | 43660
   3    | number       | Number       | 43660    | 43910
   4    | one          | One          | 43910    | 44430
 
## 句子 4:
 - 句子ID: 1e7e29e9-e9c2-40b8-95b6-d346aa5f7186
 - 时间: 44830 → 46200
 - 原始文本: "It looked like this. "
 - 对齐文本: " It looked like this"
 - 单词变更 (4个):
   序号 | 原单词       | 对齐单词     | 开始时间  | 结束时间
   -----|------------|------------|----------|----------
   1    | (无)          | It           | 44830    | 45140
   2    | (无)          | looked       | 45140    | 45370
   3    | (无)          | like         | 45370    | 45570
   4    | (无)          | this         | 45580    | 46200
 
【剩余未对齐文本 (1字符)】:
:
 =============================================================
 ================== 文本对齐结束 ===================

# 语境块4
4. 开始逐句对齐
 当前块文本: I showed my masterpiece to the grown-ups, and asked them whether the drawing frightened them.
 
处理第 1 个句子: Object
 4.1 计算最佳匹配...
 【文本匹配计算】:
 - 句子文本: I showed my masterpiece to the grown ups and asked them whether the drawing frightened them. 
 - 块文本长度: 93
 - 预处理文本...
 - 规范化后句子长度: 92
 - 规范化后块文本长度: 93
 - 尝试不同窗口大小进行匹配
 - 窗口大小: 92, 97, 102, 110
 - 各窗口最佳匹配:
   窗口大小 92: 分数 0.95, 匹配文本: "i showed my masterpiece to the grown-ups, and aske..."
 - 最终最佳匹配: 分数 0.95, 位置 0~92
 - 初始匹配文本: "I showed my masterpiece to the grown-ups, and asked them whether the drawing frightened them"
 - 向右扩展边界，包含句子结束符 .
 - 优化后匹配文本: "I showed my masterpiece to the grown-ups, and asked them whether the drawing frightened them."
 匹配结果: Object
 4.2 添加对齐结果:
 原始文本: I showed my masterpiece to the grown ups and asked them whether the drawing frightened them. 
 对齐文本: I showed my masterpiece to the grown-ups, and asked them whether the drawing frightened them.
 开始时间: 49210
 结束时间: 54320
 4.3 更新剩余文本，从位置 93 开始截取
 剩余文本(前100字符): 
 
处理第 2 个句子: Object
 当前块文本已用完，停止对齐
 
5. 对齐过程完成
 成功对齐 1 个句子
 剩余未对齐文本长度: 0
 
6. 【预期数据库更新操作】:
 6.1 更新语境块: Object
 6.2 更新句子:
   句子ID 143e6aeb-6898-48a4-91c4-5e323ed91e4c: Object
 6.3 创建句子-块关联:
   关联记录: Object
 
7. 执行实际数据库更新
 【开始保存对齐结果】
 更新语境块: e21c7710-a237-4ab3-a34f-49de6a19d52c
 更新数据: Object
 语境块更新成功
 更新句子数据:
 处理句子 143e6aeb-6898-48a4-91c4-5e323ed91e4c
 句子更新数据: Object
 句子 143e6aeb-6898-48a4-91c4-5e323ed91e4c 更新成功
 创建语境块-句子关联: 块=e21c7710-a237-4ab3-a34f-49de6a19d52c, 句子=143e6aeb-6898-48a4-91c4-5e323ed91e4c
 关联数据: Object
 关联创建成功
 对齐结果保存成功
 
8. 处理单词级对齐
 处理句子 143e6aeb-6898-48a4-91c4-5e323ed91e4c 的单词对齐
 【开始处理句子 143e6aeb-6898-48a4-91c4-5e323ed91e4c 的单词对齐】
 1. 获取现有单词数据
 获取到 16 个单词
 单词 1: id=974af5f6-04af-4b2e-b361-277c51e15068, 内容="I", 开始时间=49210, 结束时间=49550
 单词 2: id=a772f96d-1ef1-4e20-a13e-d4dc8876e4e8, 内容="showed", 开始时间=49550, 结束时间=49850
 单词 3: id=023c6e18-4867-4516-b6ae-6a6c8b275fab, 内容="my", 开始时间=49860, 结束时间=50060
 单词 4: id=cba0b39e-5df1-4e71-80b5-307a2db434f8, 内容="masterpiece", 开始时间=50060, 结束时间=50780
 单词 5: id=52bfa25c-653a-42c3-94b4-5b74c6ba6b27, 内容="to", 开始时间=50780, 结束时间=50870
 单词 6: id=7c248a83-e90c-432e-bef0-9f8db38f9ca0, 内容="the", 开始时间=50870, 结束时间=50980
 单词 7: id=d78eac95-8640-4a4c-8813-549d5331c154, 内容="grown", 开始时间=50980, 结束时间=51130
 单词 8: id=9c3fcace-a415-41c3-8620-ed08d0a9c252, 内容="ups", 开始时间=51430, 结束时间=51710
 单词 9: id=fede028c-e297-4cab-a9b5-53d152099644, 内容="and", 开始时间=51830, 结束时间=52090
 单词 10: id=3bf87d87-f02a-49c0-8292-03af7510097b, 内容="asked", 开始时间=52090, 结束时间=52410
 单词 11: id=541aa008-863c-4e17-9b89-820320d40ce0, 内容="them", 开始时间=52410, 结束时间=52660
 单词 12: id=a7921fe1-9e9c-4b73-9340-3e92021b88f4, 内容="whether", 开始时间=52670, 结束时间=52850
 单词 13: id=571c7a0a-9113-4972-be00-4d3ced584fe2, 内容="the", 开始时间=52850, 结束时间=53050
 单词 14: id=3509a2ce-06f6-4399-9adf-62f23b75c917, 内容="drawing", 开始时间=53050, 结束时间=53460
 单词 15: id=b5f38767-f90d-4706-879e-c76ce321f78e, 内容="frightened", 开始时间=53470, 结束时间=53890
 单词 16: id=c946f264-8216-46a7-98b1-d715750c95cc, 内容="them", 开始时间=54300, 结束时间=54320
 2. 获取句子原始文本
 原始文本: "I showed my masterpiece to the grown ups and asked them whether the drawing frightened them. "
 对齐文本: "I showed my masterpiece to the grown-ups, and asked them whether the drawing frightened them."
 原始单词列表: Array(16)
 对齐单词列表: Array(15)
 4. 处理单词对齐
 情况3: 对齐文本单词数量减少，更新保留的单词并删除多余单词
 更新保留的单词 7: Object
 单词 d78eac95-8640-4a4c-8813-549d5331c154 更新成功
 更新保留的单词 8: Object
 单词 9c3fcace-a415-41c3-8620-ed08d0a9c252 更新成功
 更新保留的单词 9: Object
 单词 fede028c-e297-4cab-a9b5-53d152099644 更新成功
 更新保留的单词 10: Object
 单词 3bf87d87-f02a-49c0-8292-03af7510097b 更新成功
 更新保留的单词 11: Object
 单词 541aa008-863c-4e17-9b89-820320d40ce0 更新成功
 更新保留的单词 12: Object
 单词 a7921fe1-9e9c-4b73-9340-3e92021b88f4 更新成功
 更新保留的单词 13: Object
 单词 571c7a0a-9113-4972-be00-4d3ced584fe2 更新成功
 更新保留的单词 14: Object
 单词 3509a2ce-06f6-4399-9adf-62f23b75c917 更新成功
 更新保留的单词 15: Object
 单词 b5f38767-f90d-4706-879e-c76ce321f78e 更新成功
 需要删除的单词ID: Array(1)
 成功删除 1 个多余单词
 单词对齐处理完成
 
========================= 对齐摘要 =========================
 - 时间: 2025/3/3 21:55:47
 - 语境块ID: e21c7710-a237-4ab3-a34f-49de6a19d52c
 - 语音ID: 4763ea9f-3564-47b4-97e1-5ff82d9f3f24
 
【原始语境块内容预览】:
I showed my masterpiece to the grown-ups, and asked them whether the drawing frightened them.
 
【对齐句子 (共1个)】:
 
## 句子 1:
 - 句子ID: 143e6aeb-6898-48a4-91c4-5e323ed91e4c
 - 时间: 49210 → 54320
 - 原始文本: "I showed my masterpiece to the grown ups and asked them whether the drawing frightened them. "
 - 对齐文本: "I showed my masterpiece to the grown-ups, and asked them whether the drawing frightened them."
 - 单词变更 (15个):
   序号 | 原单词       | 对齐单词     | 开始时间  | 结束时间
   -----|------------|------------|----------|----------
   1    | (无)          | I            | 49210    | 49550
   2    | (无)          | showed       | 49550    | 49850
   3    | (无)          | my           | 49860    | 50060
   4    | (无)          | masterpiece  | 50060    | 50780
   5    | (无)          | to           | 50780    | 50870
   6    | (无)          | the          | 50870    | 50980
   7    | grown        | grown-ups    | 50980    | 51130
   8    | ups          | and          | 51430    | 51710
   9    | and          | asked        | 51830    | 52090
   10   | asked        | them         | 52090    | 52410
   11   | them         | whether      | 52410    | 52660
   12   | whether      | the          | 52670    | 52850
   13   | the          | drawing      | 52850    | 53050
   14   | drawing      | frightened   | 53050    | 53460
   15   | frightened   | them         | 53470    | 53890
 
【剩余未对齐文本】: 无剩余文本，全部完成对齐
 =============================================================
 ================== 文本对齐结束 ===================

# 语境块5
 4. 开始逐句对齐
 当前块文本: But they answered: "Frighten? Why should any one be frightened by a hat?"
 
处理第 1 个句子: Object
 4.1 计算最佳匹配...
 【文本匹配计算】:
 - 句子文本: But they answered. 
 - 块文本长度: 73
 - 预处理文本...
 - 规范化后句子长度: 18
 - 规范化后块文本长度: 73
 - 尝试不同窗口大小进行匹配
 - 窗口大小: 18, 23, 28, 22
 - 各窗口最佳匹配:
   窗口大小 18: 分数 0.93, 匹配文本: "but they answered:"
   窗口大小 23: 分数 0.82, 匹配文本: "but they answered: "fri"
   窗口大小 28: 分数 0.72, 匹配文本: "but they answered: "frighten"
   窗口大小 22: 分数 0.85, 匹配文本: "but they answered: "fr"
 - 最终最佳匹配: 分数 0.93, 位置 0~18
 - 初始匹配文本: "But they answered:"
 - 向右扩展边界，包含闭合标点 " 字符
 - 优化后匹配文本: "But they answered: ""
 匹配结果: Object
 4.2 添加对齐结果:
 原始文本: But they answered. 
 对齐文本: But they answered: "
 开始时间: 54880
 结束时间: 55590
 4.3 更新剩余文本，从位置 20 开始截取
 剩余文本(前100字符): Frighten? Why should any one be frightened by a hat?"
 
处理第 2 个句子: Object
 4.1 计算最佳匹配...
 【文本匹配计算】:
 - 句子文本: Frightened, why should anyone be frightened by heart? 
 - 块文本长度: 53
 - 预处理文本...
 - 规范化后句子长度: 53
 - 规范化后块文本长度: 53
 - 尝试不同窗口大小进行匹配
 - 窗口大小: 53, 58, 63, 64
 - 各窗口最佳匹配:
   窗口大小 53: 分数 0.82, 匹配文本: "frighten? why should any one be frightened by a ha..."
 - 最终最佳匹配: 分数 0.82, 位置 0~53
 - 初始匹配文本: "Frighten? Why should any one be frightened by a hat?""
 - 找到句子结束符 ? 在位置 8
 - 截断到第一个完整句子: "Frighten?"
 匹配结果: Object
 4.2 添加对齐结果:
 原始文本: Frightened, why should anyone be frightened by heart? 
 对齐文本: Frighten?
 开始时间: 56390
 结束时间: 59560
 4.3 更新剩余文本，从位置 9 开始截取
 剩余文本(前100字符):  Why should any one be frightened by a hat?"
 
处理第 3 个句子: Object
 4.1 计算最佳匹配...
 【文本匹配计算】:
 - 句子文本: My drawing was not a picture of a hat. 
 - 块文本长度: 44
 - 预处理文本...
 - 规范化后句子长度: 38
 - 规范化后块文本长度: 43
 - 尝试不同窗口大小进行匹配
 - 窗口大小: 38, 43, 48, 46
 - 各窗口最佳匹配:
   窗口大小 38: 分数 0.10, 匹配文本: " should any one be frightened by a hat"
   窗口大小 43: 分数 0.10, 匹配文本: "why should any one be frightened by a hat?""
 - 最终最佳匹配: 分数 0.10, 位置 3~41
 - 初始匹配文本: "y should any one be frightened by a ha"
 - 向右扩展边界，包含闭合标点 " 字符
 - 优化后匹配文本: "y should any one be frightened by a hat?""
 匹配结果: Object
 匹配度过低(低于0.6)，停止对齐
 
5. 对齐过程完成
 成功对齐 2 个句子
 剩余未对齐文本长度: 44
 
6. 【预期数据库更新操作】:
 6.1 更新语境块: Object
 6.2 更新句子:
   句子ID febe38f0-9ad3-4080-96f8-2f8586898d9f: Object
   句子ID d3fd8c24-b21a-4e2d-9642-6682da51598e: Object
 6.3 创建句子-块关联:
   关联记录: Object
   关联记录: Object
 
7. 执行实际数据库更新
 【开始保存对齐结果】
 更新语境块: c147d02b-6fdd-44ee-9507-ae4c3f27fb9a
 更新数据: Object
 语境块更新成功
 更新句子数据:
 处理句子 febe38f0-9ad3-4080-96f8-2f8586898d9f
 句子更新数据: Object
 句子 febe38f0-9ad3-4080-96f8-2f8586898d9f 更新成功
 创建语境块-句子关联: 块=c147d02b-6fdd-44ee-9507-ae4c3f27fb9a, 句子=febe38f0-9ad3-4080-96f8-2f8586898d9f
 关联数据: Object
 关联创建成功
 处理句子 d3fd8c24-b21a-4e2d-9642-6682da51598e
 句子更新数据: Object
 句子 d3fd8c24-b21a-4e2d-9642-6682da51598e 更新成功
 创建语境块-句子关联: 块=c147d02b-6fdd-44ee-9507-ae4c3f27fb9a, 句子=d3fd8c24-b21a-4e2d-9642-6682da51598e
 关联数据: Object
 关联创建成功
 对齐结果保存成功
 
8. 处理单词级对齐
 处理句子 febe38f0-9ad3-4080-96f8-2f8586898d9f 的单词对齐
 【开始处理句子 febe38f0-9ad3-4080-96f8-2f8586898d9f 的单词对齐】
 1. 获取现有单词数据
 获取到 3 个单词
 单词 1: id=d400a5f0-be9c-4b7e-93fd-f8353fe5890e, 内容="But", 开始时间=54880, 结束时间=55090
 单词 2: id=cc57a79f-83b9-4a45-b3dc-dba0dce99201, 内容="they", 开始时间=55090, 结束时间=55150
 单词 3: id=5ffa06b5-df04-4035-b977-65c48b7013a5, 内容="answered", 开始时间=55150, 结束时间=55590
 2. 获取句子原始文本
 原始文本: "But they answered. "
 对齐文本: "But they answered: ""
 原始单词列表: Array(3)
 对齐单词列表: Array(3)
 4. 处理单词对齐
 情况1: 原始文本和对齐文本单词数量相同，逐一更新单词内容
 单词 1: "But" 无需更新
 单词 2: "they" 无需更新
 单词 3: "answered" 无需更新
 单词对齐处理完成
 处理句子 d3fd8c24-b21a-4e2d-9642-6682da51598e 的单词对齐
 【开始处理句子 d3fd8c24-b21a-4e2d-9642-6682da51598e 的单词对齐】
 1. 获取现有单词数据
 获取到 8 个单词
 单词 1: id=3c44bd27-70e2-43b1-97c8-071899c164b2, 内容="Frightened", 开始时间=56390, 结束时间=57100
 单词 2: id=828c866b-713b-4d3a-9c76-87294c009e5e, 内容="why", 开始时间=57480, 结束时间=57850
 单词 3: id=82601e08-69b5-499a-9919-0dbf2289d079, 内容="should", 开始时间=57850, 结束时间=58060
 单词 4: id=ecb288f9-51a5-4dfa-8070-43638390d2c1, 内容="anyone", 开始时间=58060, 结束时间=58510
 单词 5: id=55377e17-984d-40d8-9db4-9179f560f859, 内容="be", 开始时间=58510, 结束时间=58600
 单词 6: id=fe14e734-b96c-49e2-804f-bcb4d35d808e, 内容="frightened", 开始时间=58600, 结束时间=58930
 单词 7: id=37c20111-d58f-47bc-8664-b87d54a08a99, 内容="by", 开始时间=58960, 结束时间=59450
 单词 8: id=e9044a2a-d9b5-4c21-85c3-75bd03b2b113, 内容="heart", 开始时间=59460, 结束时间=59560
 2. 获取句子原始文本
 原始文本: "Frightened, why should anyone be frightened by heart? "
 对齐文本: "Frighten?"
 原始单词列表: Array(8)
 对齐单词列表: Array(1)
 4. 处理单词对齐
 情况3: 对齐文本单词数量减少，更新保留的单词并删除多余单词
 更新保留的单词 1: Object
 单词 3c44bd27-70e2-43b1-97c8-071899c164b2 更新成功
 需要删除的单词ID: Array(7)
 成功删除 7 个多余单词
 单词对齐处理完成
 
========================= 对齐摘要 =========================
 - 时间: 2025/3/3 21:57:53
 - 语境块ID: c147d02b-6fdd-44ee-9507-ae4c3f27fb9a
 - 语音ID: 4763ea9f-3564-47b4-97e1-5ff82d9f3f24
 
【原始语境块内容预览】:
But they answered: "Frighten? Why should any one be frightened by a hat?"
 
【对齐句子 (共2个)】:
 
## 句子 1:
 - 句子ID: febe38f0-9ad3-4080-96f8-2f8586898d9f
 - 时间: 54880 → 55590
 - 原始文本: "But they answered. "
 - 对齐文本: "But they answered: ""
 - 单词变更 (3个):
   序号 | 原单词       | 对齐单词     | 开始时间  | 结束时间
   -----|------------|------------|----------|----------
   1    | (无)          | But          | 54880    | 55090
   2    | (无)          | they         | 55090    | 55150
   3    | (无)          | answered     | 55150    | 55590
 
## 句子 2:
 - 句子ID: d3fd8c24-b21a-4e2d-9642-6682da51598e
 - 时间: 56390 → 59560
 - 原始文本: "Frightened, why should anyone be frightened by heart? "
 - 对齐文本: "Frighten?"
 - 单词变更 (1个):
   序号 | 原单词       | 对齐单词     | 开始时间  | 结束时间
   -----|------------|------------|----------|----------
   1    | Frightened   | Frighten     | 56390    | 57100
 
【剩余未对齐文本 (44字符)】:
 Why should any one be frightened by a hat?"
 =============================================================
 ================== 文本对齐结束 ===================